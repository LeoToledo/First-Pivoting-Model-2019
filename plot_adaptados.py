import matplotlib.pyplot as plt 
import numpy as np

#Definindo os vetores com os dados que foram pegos em test_policy
master_angle_store_motor = [2.8459219949317656, 2.390630140333721, 2.356722911232337, 2.1991479653276227, 2.360759650955603, 2.210945407123551, 2.3020570534345017, 2.3271904494663977, 2.040195152126866, 1.6792063899499148, 1.1614284925803042, 1.0895814851446877, 1.0626093357518347, 0.8951793458277175, 0.8391757032402732, 0.7985021105465873, 0.7384481132397335, 0.6227893083863679, 0.683385865455157, 0.5385842653985703, 0.5110010869007446, 0.42769698597361944, 0.4615567952448631, 0.4077490397080486, 0.2898408109978618, 0.24392056951059318, 0.11467465304709232,0.09549273163743019 ,0.08949473363244008, 0.1031953490585618, 0.1335713604869285, 0.2787968377844673, 0.32885711228604725, 0.45780738122218906, 0.5797339139009215, 0.5441660245777827, 0.5365730739932262, 0.5988200565038924, 0.5860678645588594, 0.6148087233428742, 0.6030094935366236, 0.6531308728325272, 0.6137837511046936, 0.6518406993712119, 0.6508384203947883, 0.6478547883226853, 0.7049229573803736, 0.6799793246047429, 0.6984300910071802, 0.7065437664638254, 0.6872407524557842, 0.6459272449629245, 0.6917436272193991, 0.6588917026845406, 0.7545545890161768, 0.7014399070356355, 0.7866703352217189, 1.1471837030843364, 1.0507852266876598, 1.3718905390217624, 2.3193838377018365]
master_angle_store_position =  [1.600832102381265, 2.103136741630018, 1.861791515365473, 2.2497977637892688, 2.4093292086808353, 2.3389747340542715, 1.9723379866428254, 1.5925283339848333, 1.4868718512116454, 1.1781744288287022, 0.7805786013016632, 0.6284739531422342, 0.5884582534534606, 0.5285999166425474, 0.52741069227207, 0.5279756255381313, 0.44735913552071954, 0.3657116296903274, 0.3392476434782016, 0.3149165474255389, 0.3532820094165163, 0.32311291633599454, 0.37061440265800266, 0.25962991322746887, 0.2814962781534919, 0.20548572944589344, 0.2687034114233004, 0.2665660492575814, 0.2162243060063691, 0.1504947629883951, 0.1404947629883951 ,0.13398246874780845, 0.17652875857098926, 0.26732718259910265, 0.16131331809930988, 0.12119663114653095, 0.39448287710476604, 0.331818961640706, 0.25735240423349376, 0.20227813279555093, 0.21368360049797133, 0.20022997812432955, 0.1697522215888934, 0.196456297607462, 0.2672753562789687, 0.5590038046817992, 0.6686133102263905, 0.7179127755567966, 0.9644235170792993, 1.6724181443248745, 1.609444750974608, 2.370869840465153, 1.6116978041167216, 1.569871834862905, 1.3728790699643747, 0.8366280909302473, 0.7633544304892719, 0.4984892340049908, 0.42688415633547583, 0.4442144444935857, 0.7193671153313008]
master_angle_store_bigtool = [14.53151577706336, 13.72510385688392, 13.527022565491688, 13.766477761460214, 6.980300302760381, 5.716364034351534, 7.749186383084956, 3.6877923688360914, 3.288797815123345, 1.87427240798737, 1.5593212370818685, 1.7618334438221117, 1.8691022825158854, 1.3008776566682427, 1.0042493336372074, 0.7233466834412016, 0.5778047967690162, 0.5376007302558381, 0.4533918155075757, 0.3871959159090865, 0.2930932284768128, 0.24545566611123856, 0.23748034302485255, 0.22319386212947379, 0.24282553683777755, 0.20545840008256858, 0.33584516468485603, 0.3226871768457233, 0.26245448716865055, 0.20542360954129388, 0.1625267624009727, 0.24200281607709323, 0.31022808465998825, 0.20018185244012762, 0.28229349663665376, 0.4736403887510376, 0.44320250163348845, 0.37452615974894693, 0.31451971022736297, 0.24590645988969656, 0.15121340658509225, 0.11594122288521204, 0.4786016617536949,0.4786016617536949, 0.8641299883409925, 1.1714520287543533, 1.3840820143667076, 0.8383477964507761, 0.640043652483418, 0.48489217703436105, 0.22839950559204425, 0.5428602754795021, 0.5036217301890508, 2.804754245837792, 0.5286957537005218, 0.2931880376396805, 6.553872657978362, 17.7378586801581, 9.224916465202082, 18.597560307909028, 20.336552093866885]
master_angle_store_smalltool = [15.314669644370024, 14.443761876441737, 14.422705631736372, 12.519751084608833, 13.435327128377898, 10.990686676059632, 12.162573382365634, 11.5552516824312, 10.563577796107381, 9.590299433707816, 6.0133711552596365, 6.629122903993305, 3.814786985555322, 2.5326778521454836, 2.8667146730028965, 1.5677690678041658,1.377690678041658, 1.1035171441172298, 1.103084399110142, 1.113367929155561, 0.8378108994408991, 0.9647148993469316, 0.8442867236608728, 0.5746540075256299, 0.5407007325887159, 0.4664857503054148, 0.38292794550283255, 0.3218217623485795, 0.20670196148269232, 0.23016992853212276, 0.1555411373750092, 0.17678150697428024, 0.17481317173856661, 0.2030142967987937, 0.3329918262044556, 0.35147804833563334, 0.36142922644354875, 0.3227102200902426, 0.4441883389576001, 0.38681617281717895, 0.3413913657023033, 0.636261929210994, 0.587842040150618, 0.4594262470761502, 0.7142301452059415, 1.17000607486903, 1.0007195407604963, 1.838922555118355, 1.4870557292521065, 1.5221296314638697, 1.4345291317045283, 1.1947387332978787, 1.2356860175336943, 0.8421995627192836, 1.0589458294448935, 4.155234610063045, 0.9041325805558648, 0.7668178886742928, 1.0202370329312236, 8.44210442649998, 19.093778382434742]
#Gerando o vetor de angulos ideais
ideal_angles_up = []
#Fechando para preencher com cor dentro
for i in range(61):
    error = min(np.abs((-30+i)/7), 3)
    if( (-30+i) <= 0 and (-30+i) >= 0):
        error = error + 0.3
    ideal_angles_up.append(error)
#print(ideal_angles_up)
#Aumentando o tamanho da imagem
#plt.figure(num=None, figsize=(20, 12), dpi=120, facecolor='w', edgecolor='k')
#Valores de x
x = np.arange(-30,31,1)
#print(len(x))
#Fazendo um grid
plt.xticks(fontsize=14)
plt.yticks(fontsize=14)
plt.grid(True, linestyle='-', which='major', color='lightgrey',alpha=0.5)
#Plotando a trajet√≥ria ideal
#plt.plot(x, ideal_angles_low,color='g', linewidth=0.5)
plt.plot(x, ideal_angles_up, color='g', linewidth=1.5)
plt.fill_between(x,ideal_angles_up, interpolate=True,  alpha=0.1, facecolor='g')
#plt.plot(x, master_angle_store, color='r', linewidth=3)
plt.xlim(-30,30)
plt.scatter(x, master_angle_store_motor, c='red',label="Torque-Controlled",linewidth=5)
plt.scatter(x, master_angle_store_position, c='blue',label="Original Part",linewidth=3)
#plt.scatter(x, master_angle_store_smalltool, c='orange',label="Part 2",linewidth=3)
#plt.scatter(x, master_angle_store_bigtool, c='purple', label="Part 3",linewidth=3)
plt.legend(loc="upper center", fontsize=12)
#plt.show()

plt.ylabel("Deviation in Degrees",fontsize=10)
plt.xlabel("Target Angle",fontsize=10)
plt.title("Deviation from the target angle in degrees",fontsize=10)
plt.savefig("/home/kodex/rl/spinningup/data/AngulosErro")
plt.close()
